
// -- user code here --

/* --- start generated code --- */

// Generated by  1.5.0 (Phaser v2.6.2)


/**
 * Menu.
 */
function Menu() {
	
	Phaser.State.call(this);
	
}

/** @type Phaser.State */
var Menu_proto = Object.create(Phaser.State.prototype);
Menu.prototype = Menu_proto;
Menu.prototype.constructor = Menu;

Menu.prototype.init = function () {
	
};

Menu.prototype.preload = function () {
	
};

Menu.prototype.create = function () {
	var _bg = this.add.sprite(0.0, 0.0, 'bg');
	_bg.name = 'bg';
	
	var _btnStartBg = this.add.button(150.0, 380.0, 'all-images', this.toBattleState, this, null, 'line', null, null);
	_btnStartBg.name = 'btnStartBg';
	_btnStartBg.scale.setTo(3.0, 4.0);
	_btnStartBg.alpha = 0.9;
	
	var _btnStartText = this.add.text(192.0, 389.0, 'START', {"font":"bold 20px Arial","fill":"#9e627c","align":"center"});
	_btnStartText.name = 'btnStartText';
	
	
	//--Generated code from canvas user code
	// Play BGM (looped) and prevent playing multiple BGMs when switch to this state again
	if (this.game.data.bgm == '') {
		this.add.sound( 'bgm1', 0.5, true ).play();
		this.game.data.bgm = 'bgm1';
	}
	
	// Debug
	var at = getPlugin( Phaser.Plugin.AdvancedTiming );
	if (at) {
		at.mode = 'graph';
	}
	
	console.log( "You can use 'game.state.getCurrentState().toBattleStateWithLv( 10 )' to jump to Lv. 10" );
	
	this.makeBitmapTextFrom( _btnStartText, 'NUnito', true );
	
};

/* --- end generated code --- */
// -- user code here --
//-----------------------------------------------------------------------------------------------------------
Menu.prototype.toBattleState = function () {
    this.game.data.userLevel = 1;
    this.state.start( 'Battle', FadeOut, FadeIn );
};
//-----------------------------------------------------------------------------------------------------------
Menu.prototype.toBattleStateWithLv = function (lv) {
    this.game.data.userLevel = lv;
    this.state.start( 'Battle', FadeOut, FadeIn );
};
